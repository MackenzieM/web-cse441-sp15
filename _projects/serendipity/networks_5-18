Networks section 5/18


Limitation of Stop and Wait (2)
	100 ms
	10packet/ssec

	packet = 1250 --> 10000 packets
	10% utilization -> 100kbps .1Mbps

Sliding Window
(2)
EX - 1
	R = 1 Mbps 
	W = B * 2D = 1 Mbps * 100 ms = 100 kbits<-- each packet therefore = 10 packets

EX - 2
	W = 1000000 bits = 100 packets

Sender
(2)
	W = how much underlying resources are you tying up, resource restrictions that the receiver imposes and that the network imposes

	Get ACK back and can slide the window more

Go-Back-N
	will drop packets that are LAS+1, go back and retransmit the whole sequence of packets


Selective Repeat

Sequence Numbers
	2 W sequence numbers
	W = # packets = 20000 bytes
	Sequence Number space should be at least 2 W or 40,000 bytes
	Seq Number = 2^16 then W = 2^15

Flow control - issue
Modify Sliding Window Receiver

Retransmission Timeouts (6.5.9)

Example of RTTs (2)
 - 200 ms - baseline

Adaptive Timeout
	 - SRTT = 100 ms
	 - RTT_N+1 = 200 ms
	 - SRTT = 0.9 * 100 + 0.1 *200 = 110ms
	 - SVAR_N+1 = 0.9 *SVAR_N + 0.1 *|200 - 100| <-- this particular sample is 100ms higher than expected
	 	- originaly used 0.875 and 0.125 
	 Exponentially weighted --> moving average
	 - TCP Timeout_N = SRTT_N + 4*SVAR_N
	 if the variance is very low (like 0) then timeout = SRTT_N
	 maps very well compared to the actual graph (only one time where you would timeout too early)

TCP Slide Deck
Reliable Bytestream

--> HW make sure you read 512 bytes (may not all come at once)

(2)
	- packet contains data, but may also contain an ACK (ACK is piggy backed on the packet)
	- TCP SACK = Selector acknowledgement
		- can help tell the sender what packet was lost

TCP Sliding Window - Sender


Qiao's Office hours
 - per HTTP request create a stream, close once we get a response need to close the stream
 - the entire path has one stream id and so that's how you can keep track of where to send the response data
 - router node has 2 parts (proxy and tor61)
 	- proxy part has the mappings of stream # to sockets
 - multiple streams for a circuit but they can run concurrently
 	- for a particular stream you can only have one outstanding request (sending the Relay Extend cell...etc)
 - assign a unique value for each router
 - keep on trying to register with the registrar until a success
 - choose to just test without everyone else's node






















